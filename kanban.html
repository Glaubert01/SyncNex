<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SyncNex - CSN</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="/assets/syncnex-favicon.png">
</head>
<body>
  <button id="toggle-mode" class="darkmode-btn" title="Alternar modo escuro">üåì</button>
  <button class="menu-toggle" id="menu-toggle" aria-label="Abrir menu">&#9776;</button>
  <div class="container">
    <aside class="sidebar" id="sidebar">
      <a href="index.html">
        <img src="assets/logo-csn.png" alt="Logo CSN" class="logo-csn" />
      </a>
      <ul class="menu">
        <li><a href="absenteismo.html">Absenteismo</a></li>
        <li><a href="contratos.html">Contratos</a></li>
        <li><a href="dgfm.html">DGFM</a></li>
        <li><a href="diesel.html">Diesel</a></li>
        <li><a href="efetivo.html">Efetivo</a></li>
        <li><a href="horaextra.html">Horas Extras</a></li>
        <li><a href="kanban.html">Kanban</a></li>
        <li><a href="mttr.html">MTTR</a></li>
        <li><a href="mtbf.html">MTBF</a></li>
        <li class="menu__item"><a href="organograma.html">Organograma</a></li>                           
        <li><a href="projetos.html">Projetos</a></li>
      </ul>
    </aside>

    <!-- Novo Kanban moderno -->
    <main class="main-content">
  <h2 class="titulo">Kanban - Atividades</h2>
  <div class="kanban-board" id="kanbanBoard">
    <!-- Colunas Kanban -->
    <section class="kanban-column to-do" data-status="todo">
      <header>A FAZER</header>
      <div class="kanban-cards" id="todo"></div>
      <form class="add-card-form" onsubmit="addCard(event, 'todo')">
        <input type="text" placeholder="Novo item..." required />
        <button type="submit">+</button>
      </form>
    </section>
    <section class="kanban-column doing" data-status="doing">
      <header>FAZENDO</header>
      <div class="kanban-cards" id="doing"></div>
      <form class="add-card-form" onsubmit="addCard(event, 'doing')">
        <input type="text" placeholder="Novo item..." required />
        <button type="submit">+</button>
      </form>
    </section>
    <section class="kanban-column analyzing" data-status="analyzing">
      <header>EM AN√ÅLISE</header>
      <div class="kanban-cards" id="analyzing"></div>
      <form class="add-card-form" onsubmit="addCard(event, 'analyzing')">
        <input type="text" placeholder="Novo item..." required />
        <button type="submit">+</button>
      </form>
    </section>
    <section class="kanban-column paused" data-status="paused">
      <header>PAUSADO</header>
      <div class="kanban-cards" id="paused"></div>
      <form class="add-card-form" onsubmit="addCard(event, 'paused')">
        <input type="text" placeholder="Novo item..." required />
        <button type="submit">+</button>
      </form>
    </section>
    <section class="kanban-column done" data-status="done">
      <header>CONCLU√çDO</header>
      <div class="kanban-cards" id="done"></div>
      <form class="add-card-form" onsubmit="addCard(event, 'done')">
        <input type="text" placeholder="Novo item..." required />
        <button type="submit">+</button>
      </form>
    </section>
  </div>
</main>
    <!-- FIM main-content -->
  </div>

  <script>
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    menuToggle.addEventListener('click', function () {
      sidebar.classList.toggle('active');
    });

    // Fecha sidebar ao clicar fora dela
    document.addEventListener('click', function (e) {
      if (
        window.innerWidth <= 768 &&
        sidebar.classList.contains('active') &&
        !sidebar.contains(e.target) &&
        !menuToggle.contains(e.target)
      ) {
        sidebar.classList.remove('active');
      }
    });
  </script>

  <script src="darkmode.js"></script>

  <script>
// Dados iniciais (pode mudar para seu contexto)
const initialKanban = {
  todo: ['3D: Cria√ß√£o de Pe√ßas', 'TI: Cria√ß√£o de Landing Page'],
  doing: ['Social Media: MKT Influ√™ncia'],
  analyzing: ['TI: Desenvolvimento de Site'],
  paused: ['MKT: Trabalho'],
  done: ['Compras: Or√ßamento']
};

// Fun√ß√£o para criar o card Kanban (drag&drop)
function createCard(text) {
  const card = document.createElement('div');
  card.className = 'kanban-card';
  card.draggable = true;
  card.textContent = text;
  card.addEventListener('dragstart', handleDragStart);
  card.addEventListener('dragend', handleDragEnd);
  return card;
}

// Inicializa o quadro com os cards iniciais
function initKanban() {
  for (const status in initialKanban) {
    const container = document.getElementById(status);
    container.innerHTML = '';
    initialKanban[status].forEach(text => {
      container.appendChild(createCard(text));
    });
  }
}
initKanban();

// Adicionar novo card
function addCard(event, status) {
  event.preventDefault();
  const input = event.target.querySelector('input');
  const text = input.value.trim();
  if (!text) return;
  const card = createCard(text);
  document.getElementById(status).appendChild(card);
  input.value = '';
}

// Drag and drop handlers
let draggedCard = null;

function handleDragStart(e) {
  draggedCard = this;
  this.classList.add('dragging');
}

function handleDragEnd(e) {
  this.classList.remove('dragging');
  draggedCard = null;
}

document.querySelectorAll('.kanban-cards').forEach(column => {
  column.addEventListener('dragover', function(e) {
    e.preventDefault();
    if (draggedCard && !this.contains(draggedCard)) {
      this.appendChild(draggedCard);
    }
  });
});
</script>

</body>

<footer class="footer">
  <div class="footer-content">
    <div class="footer-logo-group">
      <img src="../assets/syncnex-logo-64x64.png" alt="Logo SyncNex" class="footer-logo" />
      <div>
        <span class="footer-title">SyncNex &copy; 2025</span>
        <span class="footer-slogan">Conectando efici√™ncia ao seu neg√≥cio</span>
      </div>
    </div>
    <nav class="footer-nav">
      <a href="#">Sobre N√≥s</a>
      <a href="#">Contato</a>
      <a href="#">Pol√≠tica de Privacidade</a>
      <a href="#">Termos de Uso</a>
    </nav>
  </div>
</footer>
</html>
