
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SyncNex - CSN</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="assets/syncnex-favicon.png">
  <style>
    html, body {
      height: 100%; margin: 0; padding: 0;
      font-family: Roboto, Arial, sans-serif;
    }
    #map {
      width: 100vw; height: 100vh;
      position: absolute; left: 0; top: 0; z-index: 1;
    }
    .custom-controls {
      position: absolute;
      top: 10px; left: 180px;
      z-index: 5;
      display: flex;
      gap: 12px;
    }
    .custom-controls button {
      padding: 9px 18px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 6px #0001;
      transition: background .2s;
    }
    .custom-controls button.active,
    .custom-controls button:hover {
      background: #e8e8e8;
    }
    .timer-bar {
      position: absolute;
      left: 190px; top: 0;
      font-size: 14px;
      color: #444;
      z-index: 10;
      background: #fafafadb;
      padding: 2px 16px 2px 8px;
      border-radius: 0 0 8px 8px;
      border-bottom: 1px solid #ddd;
    }
    .container, .main-content, .table-container, .em-construcao {
      display: none !important; /* Esconde layout antigo, s√≥ mostra mapa */
    }
    /* Mant√©m footer vis√≠vel acima do mapa */
    .footer {
      position: fixed; left: 0; bottom: 0; width: 100vw;
      z-index: 99;
      background: rgba(10,16,30,0.94);
      box-shadow: 0 -4px 24px #0003;
      color: #fff;
    }
  </style>
</head>
<body>
  <button id="toggle-mode" class="darkmode-btn" title="Alternar modo escuro">üåì</button>
  <button class="menu-toggle" id="menu-toggle" aria-label="Abrir menu">&#9776;</button>
  <div class="container">
    <aside class="sidebar" id="sidebar">
      <a href="index.html">
        <img src="/assets/logo-csn.png" alt="Logo CSN" class="logo-csn" />
      </a>
      <ul class="menu">
        <li><a href="absenteismo.html">Absenteismo</a></li>
        <li><a href="contratos.html">Contratos</a></li>
        <li><a href="dgfm.html">DGFM</a></li>
        <li><a href="diesel.html">Diesel</a></li>
        <li><a href="efetivo.html">Efetivo</a></li>
        <li><a href="horaextra.html">Horas Extras</a></li>
        <li><a href="kanban.html">Kanban</a></li>
        <li><a href="mttr.html">MTTR</a></li>
        <li><a href="mtbf.html">MTBF</a></li>
        <li class="menu__item"><a href="organograma.html">Organograma</a></li>                           
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="sobressalentes.html">Sobressalentes</a></li>
        <li><a href="sobressalentes.html">Sobressalentes</a></li>
      </ul>
    </aside>
    <main class="main-content">
      <h2 class="titulo">GIL - Ger√™ncia de Transporte Ferrovi√°rio</h2>
      <div class="table-container">
        <table id="organograma"></table>
      </div>
      <div class="em-construcao">
        <span class="construcao-icone" aria-label="Em constru√ß√£o">üöß</span>
        <span class="construcao-txt">P√°gina em constru√ß√£o</span>
      </div>
    </main>
  </div>

  <!-- CONTROLES DO MAPA E MAPA GOOGLE -->
  <div class="timer-bar" id="timerBar">Pr√≥xima atualiza√ß√£o em: <span id="timerValue">01:00</span></div>
  <div class="custom-controls">
    <button id="mapBtn" class="active">Mapa</button>
    <button id="satBtn">Sat√©lite</button>
    <button id="drawAreaBtn">Desenhar √Årea</button>
    <button id="clearBtn">Limpar √Åreas</button>
  </div>
  <div id="map"></div>

  <script>
    // Timer countdown
    let seconds = 60;
    function updateTimer() {
      document.getElementById('timerValue').textContent = seconds < 10 ? `00:0${seconds}` : `00:${seconds}`;
      if (seconds > 0) {
        seconds--;
        setTimeout(updateTimer, 1000);
      } else {
        seconds = 60;
        setTimeout(updateTimer, 1000);
      }
    }
    updateTimer();
  </script>
  <script>
    let map, drawingManager, drawnAreas = [];
    function initMap() {
      // Posi√ß√£o inicial Volta Redonda/RJ
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: -22.5162, lng: -44.0948},
        zoom: 15,
        mapTypeId: 'roadmap',
        streetViewControl: true,
        fullscreenControl: true,
      });

      drawingManager = new google.maps.drawing.DrawingManager({
        drawingMode: null,
        drawingControl: false,
        polygonOptions: {
          editable: true,
          draggable: true,
          strokeColor: "#2196f3",
          fillColor: "#2196f3",
          fillOpacity: 0.18,
          strokeWeight: 2,
        }
      });

      drawingManager.setMap(map);

      // Drawing Complete - salva refer√™ncia para remo√ß√£o depois
      google.maps.event.addListener(drawingManager, 'polygoncomplete', function(polygon) {
        drawnAreas.push(polygon);
        polygon.addListener('rightclick', function(e) {
          polygon.setMap(null);
          drawnAreas = drawnAreas.filter(p => p !== polygon);
        });
      });

      document.getElementById('drawAreaBtn').onclick = function() {
        drawingManager.setDrawingMode('polygon');
        this.classList.add('active');
      };
      document.getElementById('clearBtn').onclick = function() {
        drawnAreas.forEach(area => area.setMap(null));
        drawnAreas = [];
      };

      document.getElementById('mapBtn').onclick = function() {
        map.setMapTypeId('roadmap');
        this.classList.add('active');
        document.getElementById('satBtn').classList.remove('active');
      };
      document.getElementById('satBtn').onclick = function() {
        map.setMapTypeId('satellite');
        this.classList.add('active');
        document.getElementById('mapBtn').classList.remove('active');
      };
    }
  </script>
  <!-- Google Maps API + Drawing Library -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=drawing&callback=initMap" async defer></script>

  <script>
  // Sidebar (mantido do seu projeto)
  const menuToggle = document.getElementById('menu-toggle');
  const sidebar = document.getElementById('sidebar');
  menuToggle.addEventListener('click', function () {
    sidebar.classList.toggle('active');
  });
  document.addEventListener('click', function (e) {
    if (
      window.innerWidth <= 768 &&
      sidebar.classList.contains('active') &&
      !sidebar.contains(e.target) &&
      !menuToggle.contains(e.target)
    ) {
      sidebar.classList.remove('active');
    }
  });
  </script>
  <script src="darkmode.js"></script>
</body>

<footer class="footer">
  <div class="footer-content" style="display: flex; justify-content: space-between; align-items: center;">
    <div class="footer-logo-group">
      <img src="assets/syncnex-logo-64x64.png" alt="Logo SyncNex" class="footer-logo" />
      <div>
        <span class="footer-title">SyncNex &copy; 2025</span>
        <span class="footer-slogan">Conectando efici√™ncia ao seu neg√≥cio</span>
      </div>
    </div>
    <nav class="footer-nav">
      <a href="#">Sobre N√≥s</a>
      <a href="#">Contato</a>
      <a href="#">Pol√≠tica de Privacidade</a>
      <a href="#">Termos de Uso</a>
    </nav>
      <span class="versao">Vers√£o <b>V1.0.0</b></span>
    </div>
  </div>
</footer>
</html>
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SyncNex - CSN</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="assets/syncnex-favicon.png">
  <style>
    html, body {
      height: 100%; margin: 0; padding: 0;
      font-family: Roboto, Arial, sans-serif;
    }
    #map {
      width: 100vw; height: 100vh;
      position: absolute; left: 0; top: 0; z-index: 1;
    }
    .custom-controls {
      position: absolute;
      top: 10px; left: 180px;
      z-index: 5;
      display: flex;
      gap: 12px;
    }
    .custom-controls button {
      padding: 9px 18px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 6px #0001;
      transition: background .2s;
    }
    .custom-controls button.active,
    .custom-controls button:hover {
      background: #e8e8e8;
    }
    .timer-bar {
      position: absolute;
      left: 190px; top: 0;
      font-size: 14px;
      color: #444;
      z-index: 10;
      background: #fafafadb;
      padding: 2px 16px 2px 8px;
      border-radius: 0 0 8px 8px;
      border-bottom: 1px solid #ddd;
    }
    .container, .main-content, .table-container, .em-construcao {
      display: none !important; /* Esconde layout antigo, s√≥ mostra mapa */
    }
    /* Mant√©m footer vis√≠vel acima do mapa */
    .footer {
      position: fixed; left: 0; bottom: 0; width: 100vw;
      z-index: 99;
      background: rgba(10,16,30,0.94);
      box-shadow: 0 -4px 24px #0003;
      color: #fff;
    }
  </style>
</head>
<body>
  <button id="toggle-mode" class="darkmode-btn" title="Alternar modo escuro">üåì</button>
  <button class="menu-toggle" id="menu-toggle" aria-label="Abrir menu">&#9776;</button>
  <div class="container">
    <aside class="sidebar" id="sidebar">
      <a href="index.html">
        <img src="/assets/logo-csn.png" alt="Logo CSN" class="logo-csn" />
      </a>
      <ul class="menu">
        <li><a href="absenteismo.html">Absenteismo</a></li>
        <li><a href="contratos.html">Contratos</a></li>
        <li><a href="dgfm.html">DGFM</a></li>
        <li><a href="diesel.html">Diesel</a></li>
        <li><a href="efetivo.html">Efetivo</a></li>
        <li><a href="horaextra.html">Horas Extras</a></li>
        <li><a href="kanban.html">Kanban</a></li>
        <li><a href="mttr.html">MTTR</a></li>
        <li><a href="mtbf.html">MTBF</a></li>
        <li class="menu__item"><a href="organograma.html">Organograma</a></li>                           
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="sobressalentes.html">Sobressalentes</a></li>
        <li><a href="sobressalentes.html">Sobressalentes</a></li>
      </ul>
    </aside>
    <main class="main-content">
      <h2 class="titulo">GIL - Ger√™ncia de Transporte Ferrovi√°rio</h2>
      <div class="table-container">
        <table id="organograma"></table>
      </div>
      <div class="em-construcao">
        <span class="construcao-icone" aria-label="Em constru√ß√£o">üöß</span>
        <span class="construcao-txt">P√°gina em constru√ß√£o</span>
      </div>
    </main>
  </div>

  <!-- CONTROLES DO MAPA E MAPA GOOGLE -->
  <div class="timer-bar" id="timerBar">Pr√≥xima atualiza√ß√£o em: <span id="timerValue">01:00</span></div>
  <div class="custom-controls">
    <button id="mapBtn" class="active">Mapa</button>
    <button id="satBtn">Sat√©lite</button>
    <button id="drawAreaBtn">Desenhar √Årea</button>
    <button id="clearBtn">Limpar √Åreas</button>
  </div>
  <div id="map"></div>

  <script>
    // Timer countdown
    let seconds = 60;
    function updateTimer() {
      document.getElementById('timerValue').textContent = seconds < 10 ? `00:0${seconds}` : `00:${seconds}`;
      if (seconds > 0) {
        seconds--;
        setTimeout(updateTimer, 1000);
      } else {
        seconds = 60;
        setTimeout(updateTimer, 1000);
      }
    }
    updateTimer();
  </script>
  <script>
    let map, drawingManager, drawnAreas = [];
    function initMap() {
      // Posi√ß√£o inicial Volta Redonda/RJ
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: -22.5162, lng: -44.0948},
        zoom: 15,
        mapTypeId: 'roadmap',
        streetViewControl: true,
        fullscreenControl: true,
      });

      drawingManager = new google.maps.drawing.DrawingManager({
        drawingMode: null,
        drawingControl: false,
        polygonOptions: {
          editable: true,
          draggable: true,
          strokeColor: "#2196f3",
          fillColor: "#2196f3",
          fillOpacity: 0.18,
          strokeWeight: 2,
        }
      });

      drawingManager.setMap(map);

      // Drawing Complete - salva refer√™ncia para remo√ß√£o depois
      google.maps.event.addListener(drawingManager, 'polygoncomplete', function(polygon) {
        drawnAreas.push(polygon);
        polygon.addListener('rightclick', function(e) {
          polygon.setMap(null);
          drawnAreas = drawnAreas.filter(p => p !== polygon);
        });
      });

      document.getElementById('drawAreaBtn').onclick = function() {
        drawingManager.setDrawingMode('polygon');
        this.classList.add('active');
      };
      document.getElementById('clearBtn').onclick = function() {
        drawnAreas.forEach(area => area.setMap(null));
        drawnAreas = [];
      };

      document.getElementById('mapBtn').onclick = function() {
        map.setMapTypeId('roadmap');
        this.classList.add('active');
        document.getElementById('satBtn').classList.remove('active');
      };
      document.getElementById('satBtn').onclick = function() {
        map.setMapTypeId('satellite');
        this.classList.add('active');
        document.getElementById('mapBtn').classList.remove('active');
      };
    }
  </script>
  <!-- Google Maps API + Drawing Library -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=drawing&callback=initMap" async defer></script>

  <script>
  // Sidebar (mantido do seu projeto)
  const menuToggle = document.getElementById('menu-toggle');
  const sidebar = document.getElementById('sidebar');
  menuToggle.addEventListener('click', function () {
    sidebar.classList.toggle('active');
  });
  document.addEventListener('click', function (e) {
    if (
      window.innerWidth <= 768 &&
      sidebar.classList.contains('active') &&
      !sidebar.contains(e.target) &&
      !menuToggle.contains(e.target)
    ) {
      sidebar.classList.remove('active');
    }
  });
  </script>
  <script src="darkmode.js"></script>
</body>

<footer class="footer">
  <div class="footer-content" style="display: flex; justify-content: space-between; align-items: center;">
    <div class="footer-logo-group">
      <img src="assets/syncnex-logo-64x64.png" alt="Logo SyncNex" class="footer-logo" />
      <div>
        <span class="footer-title">SyncNex &copy; 2025</span>
        <span class="footer-slogan">Conectando efici√™ncia ao seu neg√≥cio</span>
      </div>
    </div>
    <nav class="footer-nav">
      <a href="#">Sobre N√≥s</a>
      <a href="#">Contato</a>
      <a href="#">Pol√≠tica de Privacidade</a>
      <a href="#">Termos de Uso</a>
    </nav>
      <span class="versao">Vers√£o <b>V1.0.0</b></span>
    </div>
  </div>
</footer>
</html>
